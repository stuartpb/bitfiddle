import test from "tape";
import {swizzle} from "../bitfiddle.js";

const rgbiGood = [
  0x000000, 0x111111, 0x000044, 0x111155, 0x004400, 0x115511, 0x004444, 0x115555,
  0x440000, 0x551111, 0x440044, 0x551155, 0x444400, 0x555511, 0x444444, 0x555555,
  0x222222, 0x333333, 0x222266, 0x333377, 0x226622, 0x337733, 0x226666, 0x337777,
  0x662222, 0x773333, 0x662266, 0x773377, 0x666622, 0x777733, 0x666666, 0x777777,
  0x000088, 0x111199, 0x0000cc, 0x1111dd, 0x004488, 0x115599, 0x0044cc, 0x1155dd,
  0x440088, 0x551199, 0x4400cc, 0x5511dd, 0x444488, 0x555599, 0x4444cc, 0x5555dd,
  0x2222aa, 0x3333bb, 0x2222ee, 0x3333ff, 0x2266aa, 0x3377bb, 0x2266ee, 0x3377ff,
  0x6622aa, 0x7733bb, 0x6622ee, 0x7733ff, 0x6666aa, 0x7777bb, 0x6666ee, 0x7777ff,
  0x008800, 0x119911, 0x008844, 0x119955, 0x00cc00, 0x11dd11, 0x00cc44, 0x11dd55,
  0x448800, 0x559911, 0x448844, 0x559955, 0x44cc00, 0x55dd11, 0x44cc44, 0x55dd55,
  0x22aa22, 0x33bb33, 0x22aa66, 0x33bb77, 0x22ee22, 0x33ff33, 0x22ee66, 0x33ff77,
  0x66aa22, 0x77bb33, 0x66aa66, 0x77bb77, 0x66ee22, 0x77ff33, 0x66ee66, 0x77ff77,
  0x008888, 0x119999, 0x0088cc, 0x1199dd, 0x00cc88, 0x11dd99, 0x00cccc, 0x11dddd,
  0x448888, 0x559999, 0x4488cc, 0x5599dd, 0x44cc88, 0x55dd99, 0x44cccc, 0x55dddd,
  0x22aaaa, 0x33bbbb, 0x22aaee, 0x33bbff, 0x22eeaa, 0x33ffbb, 0x22eeee, 0x33ffff,
  0x66aaaa, 0x77bbbb, 0x66aaee, 0x77bbff, 0x66eeaa, 0x77ffbb, 0x66eeee, 0x77ffff,
  0x880000, 0x991111, 0x880044, 0x991155, 0x884400, 0x995511, 0x884444, 0x995555,
  0xcc0000, 0xdd1111, 0xcc0044, 0xdd1155, 0xcc4400, 0xdd5511, 0xcc4444, 0xdd5555,
  0xaa2222, 0xbb3333, 0xaa2266, 0xbb3377, 0xaa6622, 0xbb7733, 0xaa6666, 0xbb7777,
  0xee2222, 0xff3333, 0xee2266, 0xff3377, 0xee6622, 0xff7733, 0xee6666, 0xff7777,
  0x880088, 0x991199, 0x8800cc, 0x9911dd, 0x884488, 0x995599, 0x8844cc, 0x9955dd,
  0xcc0088, 0xdd1199, 0xcc00cc, 0xdd11dd, 0xcc4488, 0xdd5599, 0xcc44cc, 0xdd55dd,
  0xaa22aa, 0xbb33bb, 0xaa22ee, 0xbb33ff, 0xaa66aa, 0xbb77bb, 0xaa66ee, 0xbb77ff,
  0xee22aa, 0xff33bb, 0xee22ee, 0xff33ff, 0xee66aa, 0xff77bb, 0xee66ee, 0xff77ff,
  0x888800, 0x999911, 0x888844, 0x999955, 0x88cc00, 0x99dd11, 0x88cc44, 0x99dd55,
  0xcc8800, 0xdd9911, 0xcc8844, 0xdd9955, 0xcccc00, 0xdddd11, 0xcccc44, 0xdddd55,
  0xaaaa22, 0xbbbb33, 0xaaaa66, 0xbbbb77, 0xaaee22, 0xbbff33, 0xaaee66, 0xbbff77,
  0xeeaa22, 0xffbb33, 0xeeaa66, 0xffbb77, 0xeeee22, 0xffff33, 0xeeee66, 0xffff77,
  0x888888, 0x999999, 0x8888cc, 0x9999dd, 0x88cc88, 0x99dd99, 0x88cccc, 0x99dddd,
  0xcc8888, 0xdd9999, 0xcc88cc, 0xdd99dd, 0xcccc88, 0xdddd99, 0xcccccc, 0xdddddd,
  0xaaaaaa, 0xbbbbbb, 0xaaaaee, 0xbbbbff, 0xaaeeaa, 0xbbffbb, 0xaaeeee, 0xbbffff,
  0xeeaaaa, 0xffbbbb, 0xeeaaee, 0xffbbff, 0xeeeeaa, 0xffffbb, 0xeeeeee, 0xffffff];

const rgbirgbiTemplate = '95629562 84628462 73627362';
test("swizzle rgbirgi tests",t=>{
  t.plan(256);
  for (let i = 0; i < 256; ++i) {
    t.equal(swizzle(i, rgbirgbiTemplate), rgbiGood[i], `rgbirgbi[${i}]`);
  }
})